def _make_init(fields):
    code = 'def __init__(self, %s):\n' % ', '.join(fields)
    for name in fields:
        code += '   self.%s = %s\n' % (name, name)
    return code

print(_make_init(['name', 'shares', 'price']))
